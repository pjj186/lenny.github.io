{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/250910-sqlite-constraints/","result":{"data":{"site":{"siteMetadata":{"title":"Lenny.dev"}},"markdownRemark":{"id":"6f5c6c2f-6f4b-5c61-84bf-c8a6d727919c","excerpt":"SQLite에서 테이블을 대충 만들면 안좋은 사태가 발생합니다; 만약 테이블을 다음과 같이 만든다고 해볼게요. 오.. 뭐 그래도 타입도 들어가있고 썩 나쁘지 않아보입니다. 근데 문제가 있어요.  요런데에 음수를 집어넣을 수 있다거나, DB…","html":"<p>SQLite에서 테이블을 대충 만들면 안좋은 사태가 발생합니다;</p>\n<p>만약 테이블을 다음과 같이 만든다고 해볼게요.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> movies <span class=\"token punctuation\">(</span>\n  title <span class=\"token keyword\">TEXT</span><span class=\"token punctuation\">,</span>\n  released <span class=\"token keyword\">INTEGER</span><span class=\"token punctuation\">,</span>\n  overview <span class=\"token keyword\">TEXT</span><span class=\"token punctuation\">,</span>\n  rating <span class=\"token keyword\">REAL</span><span class=\"token punctuation\">,</span>\n  director <span class=\"token keyword\">TEXT</span>\n<span class=\"token punctuation\">)</span> strict<span class=\"token punctuation\">;</span></code></pre></div>\n<p>오.. 뭐 그래도 타입도 들어가있고 썩 나쁘지 않아보입니다.</p>\n<p>근데 문제가 있어요.</p>\n<p><code class=\"language-text\">rating</code> 요런데에 음수를 집어넣을 수 있다거나, DB에 중복된 이름으로 데이터가 여러개 있을 수 있다던가.. 그런 부분들이요.</p>\n<p>이번 포스팅에서는 그런걸 막기위해 하는 제약조건에 대해 적어볼거에염.</p>\n<h1 id=\"제약조건-constraints\" style=\"position:relative;\"><a href=\"#%EC%A0%9C%EC%95%BD%EC%A1%B0%EA%B1%B4-constraints\" aria-label=\"제약조건 constraints permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>제약조건 (Constraints)</h1>\n<p>일단 제약조건 거는 코드부터 떤질게염.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> movies <span class=\"token punctuation\">(</span>\n  title <span class=\"token keyword\">TEXT</span> <span class=\"token keyword\">UNIQUE</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  released <span class=\"token keyword\">INTEGER</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  overview <span class=\"token keyword\">TEXT</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  rating <span class=\"token keyword\">REAL</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  director <span class=\"token keyword\">TEXT</span>\n  for_adults <span class=\"token keyword\">INTEGER</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token number\">0</span>\n<span class=\"token punctuation\">)</span> strict<span class=\"token punctuation\">;</span></code></pre></div>\n<p>이런식으로 테이블 만들 때 걸어줄 수 있습니다.</p>\n<p>보시면 데이터 타입 정의하는 부분 뒤에 막 붙죠? 이게 바로 제약조건이에염.</p>\n<p>이름에서 유추 할 수 있듯이 <code class=\"language-text\">UNIQUE</code> 는 중복된 값을 허용하지 않는다는 뜻이고, <code class=\"language-text\">NOT NULL</code> 은 해당 컬럼에 NULL을 허용하지 않는다는 뜻이에염.</p>\n<p><code class=\"language-text\">DEFAULT</code> 는 해당 컬럼에 기본값을 설정한다는 뜻이에염.</p>\n<p>이런식으로 제약조건을 걸어줄 수 있어염.</p>\n<p>데이터를 넣을때 이제 저 조건에 맞춰서 안넣으면 에러가 나게 될것이에요.</p>\n<h1 id=\"제약조건-종류-constraints-types\" style=\"position:relative;\"><a href=\"#%EC%A0%9C%EC%95%BD%EC%A1%B0%EA%B1%B4-%EC%A2%85%EB%A5%98-constraints-types\" aria-label=\"제약조건 종류 constraints types permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>제약조건 종류 (Constraints Types)</h1>\n<p>SQLite에서 제약조건은 다음과 같은 종류가 있구염.</p>\n<table>\n<thead>\n<tr>\n<th>제약조건</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>UNIQUE</td>\n<td>중복된 값을 허용하지 않는다.</td>\n</tr>\n<tr>\n<td>NOT NULL</td>\n<td>해당 컬럼에 NULL을 허용하지 않는다.</td>\n</tr>\n<tr>\n<td>DEFAULT</td>\n<td>해당 컬럼에 기본값을 설정한다.</td>\n</tr>\n<tr>\n<td>CHECK</td>\n<td>해당 컬럼에 조건을 추가한다.</td>\n</tr>\n<tr>\n<td>PRIMARY KEY</td>\n<td>해당 컬럼을 기본키로 설정한다.</td>\n</tr>\n</tbody>\n</table>\n<p>CHECK 써서 좀 더 복잡한 제약조건을 만들 수 있어염.</p>\n<p>이렇게!</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> movies <span class=\"token punctuation\">(</span>\n  title <span class=\"token keyword\">TEXT</span> <span class=\"token keyword\">UNIQUE</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  released <span class=\"token keyword\">INTEGER</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  overview <span class=\"token keyword\">TEXT</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  rating <span class=\"token keyword\">REAL</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  director <span class=\"token keyword\">TEXT</span>\n  for_adults <span class=\"token keyword\">INTEGER</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token number\">0</span> <span class=\"token keyword\">CHECK</span> <span class=\"token punctuation\">(</span>for_adults <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token operator\">OR</span> for_adults <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span> strict<span class=\"token punctuation\">;</span></code></pre></div>\n<p>이렇게 하면 <code class=\"language-text\">for_adults</code> 컬럼에는 0 또는 1만 들어갈 수 있어염.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token punctuation\">(</span>for_adults <span class=\"token operator\">></span> <span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token operator\">OR</span> for_adults <span class=\"token operator\">&lt;</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>이런것도 되고</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token punctuation\">(</span>for_adults <span class=\"token operator\">BETWEEN</span> <span class=\"token number\">0</span> <span class=\"token operator\">AND</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>이런것도 됩니다.</p>\n<hr/>\n<p>간단하게 제약조건에 대해서 알아봤습니다~</p>\n<p>그럼 이만~</p>","tableOfContents":"<ul>\n<li><a href=\"#%EC%A0%9C%EC%95%BD%EC%A1%B0%EA%B1%B4-constraints\">제약조건 (Constraints)</a></li>\n<li><a href=\"#%EC%A0%9C%EC%95%BD%EC%A1%B0%EA%B1%B4-%EC%A2%85%EB%A5%98-constraints-types\">제약조건 종류 (Constraints Types)</a></li>\n</ul>","frontmatter":{"title":"SQLite Constraints (제약조건)","date":"2025년 09월 10일 20:00:00","description":"SQLite Constraints","category":"Database","tags":["SQL","SQLite"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxElEQVR42o1SSUvDUBDOX/PqD1DBiwgWLChuuIAIHhQVK0XULi5VEwRFUbEF61JTLyoquNSDFVqaNkmbmERi2ibNovOaulQ9OEwekzfv+2bmew/LeBzp2WbkHgez3K3cR97ALOvtH4ZZumZHllHSuCS92K7ETtCvaSAKm8Uy4ftYrU9qzJAFU82bWt5QxGLyhpqqF48XK+CKfeuiuiOM9jvphTbkficfms5uDIuRJUi83oRZov857IVYiuIZXyu3PQZlRHJVpR/tdrAv4jJrbn1YOPRDAFowKz0wy8vZZmqqXssmWGKA2xxhAl1KjCxjTYzFe/ndSX7XxRJ9UD/lqpPIVciVeIpyNyoP0ezaoBQlYKeYugNd4Uz+6QIVAzBQFuIX+fi5yj6hDklcOPBBoIuMSOLJkVrplEjPNIlRHJDc1igoCnRmQUYzw2ygUzF5+3p3xO9MJIZq7DrCgTfjdcjXIYjly72UqwHAVkmFntMzzQBBYKjDbY+DC/tzGhMXDueFsKdK7bIWKhUzlJcfgmO6SJuqAq5LrHwVTHtailSsfO064G2Kbyu6ZEjZFBgT6KR9reBMoOM56NZyib9fGLyQX5vvfRA/lplnwG4AAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/6a8748a4d15809d9a6d492e6f025a741/92af5/thumbnail.png","srcSet":"/static/6a8748a4d15809d9a6d492e6f025a741/6a96a/thumbnail.png 82w,\n/static/6a8748a4d15809d9a6d492e6f025a741/b7fcf/thumbnail.png 165w,\n/static/6a8748a4d15809d9a6d492e6f025a741/92af5/thumbnail.png 329w","sizes":"(min-width: 329px) 329px, 100vw"},"sources":[{"srcSet":"/static/6a8748a4d15809d9a6d492e6f025a741/00e6b/thumbnail.avif 82w,\n/static/6a8748a4d15809d9a6d492e6f025a741/aec08/thumbnail.avif 165w,\n/static/6a8748a4d15809d9a6d492e6f025a741/dd6a4/thumbnail.avif 329w","type":"image/avif","sizes":"(min-width: 329px) 329px, 100vw"},{"srcSet":"/static/6a8748a4d15809d9a6d492e6f025a741/74aff/thumbnail.webp 82w,\n/static/6a8748a4d15809d9a6d492e6f025a741/35fa2/thumbnail.webp 165w,\n/static/6a8748a4d15809d9a6d492e6f025a741/70842/thumbnail.webp 329w","type":"image/webp","sizes":"(min-width: 329px) 329px, 100vw"}]},"width":1200,"height":631.0030395136778}}}},"fields":{"slug":"/250910-sqlite-constraints/","autoDate":null}},"previous":{"fields":{"slug":"/250910-sqlite-data-type/","autoDate":null},"frontmatter":{"title":"SQLite Data Type"}},"next":{"fields":{"slug":"/250912-anime-girls-holding-book/","autoDate":null},"frontmatter":{"title":"애니프사"}}},"pageContext":{"id":"6f5c6c2f-6f4b-5c61-84bf-c8a6d727919c","previousPostId":"1d3a7a7d-7993-5871-a946-8cc5e9d56cba","nextPostId":"9121953f-97f8-50f8-becd-434af27d8704"}},"staticQueryHashes":["230163734","3517523002"],"slicesMap":{}}